<!DOCTYPE html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MININ-CHAT</title><style>*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;background:#0a0a0a;overflow:hidden;font:13px/1.4 'Courier New','Lucida Console',monospace;color:#0f0}body{display:flex;flex-direction:column}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.2) 2px,rgba(0,0,0,.2) 4px);pointer-events:none;z-index:99}body::after{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at center,rgba(10,40,10,.1) 0%,rgba(0,0,0,.5) 90%);pointer-events:none;z-index:98}#h{padding:2px 6px;border-bottom:1px solid #030;background:#020;white-space:pre;text-shadow:0 0 8px #0f0;font-size:12px;color:#0d0;line-height:1.2;flex-shrink:0}#o{flex:1;overflow-y:auto;padding:6px 8px;text-shadow:0 0 3px #0a0;scrollbar-width:thin;scrollbar-color:#040 #000}#o::-webkit-scrollbar{width:5px}#o::-webkit-scrollbar-track{background:#000}#o::-webkit-scrollbar-thumb{background:#040}#o div{word-wrap:break-word;word-break:break-all;padding:1px 0;animation:fade .3s}@keyframes fade{from{opacity:0}to{opacity:1}}#b{display:flex;border-top:1px solid #030;background:#020;flex-shrink:0}#p{padding:3px 6px;color:#0a0;white-space:nowrap;text-shadow:0 0 4px #0a0}#i{flex:1;background:0 0;border:0;color:#0f0;font:inherit;padding:3px 4px;outline:0;text-shadow:0 0 4px #0a0;caret-color:#0f0}.s{color:#0a0}.e{color:#f33}.w{color:#fc0}.y{color:#0ee}.j{color:#666}.d{color:#888}@keyframes blink{50%{opacity:0}}@keyframes flicker{0%{opacity:.97}5%{opacity:.95}10%{opacity:.98}15%{opacity:.94}20%{opacity:.98}100%{opacity:.97}}body{animation:flicker 4s infinite}</style></head><body><div id=h>+========================================================================+
|  MININ-CHAT v1.0  |  COBOL+FORTRAN BACKEND  |  /help for commands     |
+========================================================================+</div><div id=o></div><div id=b><span id=p>>&nbsp;</span><input id=i autofocus autocomplete=off spellcheck=false></div><script>!function(){var O=document.getElementById('o'),I=document.getElementById('i'),P=document.getElementById('p'),tk='',rm='general',nk='anon_'+Math.random().toString(36).substr(2,5),la=0,iv,st=Date.now();function w(s,c){var d=document.createElement('div');if(c)d.className=c;d.textContent=s;O.appendChild(d);if(O.children.length>300)O.removeChild(O.firstChild);O.scrollTop=O.scrollHeight}function aj(m,u,b,f){var x=new XMLHttpRequest;x.open(m,u);x.timeout=8000;if(b){x.setRequestHeader('Content-Type','application/x-www-form-urlencoded');x.send(b)}else x.send();x.onload=function(){try{f(JSON.parse(x.responseText))}catch(e){f({ok:0,e:'parse error'})}};x.onerror=function(){f({ok:0,e:'network error'})};x.ontimeout=function(){f({ok:0,e:'timeout'})}}function poll(){if(!tk)return;aj('GET','/chat/api/poll?t='+tk+'&a='+la,0,function(r){if(r.ok&&r.msgs)r.msgs.forEach(function(m){la=m.i;var t=m.y===1?'*** '+m.d+' ***':m.y===2?m.d:m.d;w(t,m.y===1?'y':m.y===2?'w':'')})})}function send(m){aj('POST','/chat/api/send','t='+tk+'&m='+encodeURIComponent(m),function(r){if(!r.ok&&r.e)w('ERR: '+r.e,'e')})}function cmd(c,cb){aj('POST','/chat/api/cmd','t='+tk+'&c='+encodeURIComponent(c),function(r){if(r.e)w('ERR: '+r.e,'e');if(r.d)w(r.d,'s');if(cb)cb(r)})}function login(){w('Connecting to MININ-CHAT server...','j');w('Initializing COBOL message processor...','j');w('Loading Fortran encryption engine...','j');aj('POST','/chat/api/login','n='+encodeURIComponent(nk),function(r){if(r.ok){tk=r.t;rm=r.room||'general';w('','d');w(r.motd,'y');w('','d');w('*** Connected as '+nk+' in #'+rm+' ***','y');w('*** Type /help for available commands ***','y');w('','d');P.textContent=nk+'@#'+rm+'> ';iv=setInterval(poll,1500)}else{w('CONNECTION FAILED: '+(r.e||'unknown error'),'e');w('Retrying in 3 seconds...','j');setTimeout(function(){if(r.e==='nick taken'){nk='anon_'+Math.random().toString(36).substr(2,5)}login()},3000)}})}I.addEventListener('keydown',function(e){if(e.key!=='Enter')return;var v=I.value.trim();if(!v)return;I.value='';if(v[0]!=='/'){send(v);return}var s=v.match(/^\/(\S+)\s*(.*)/);if(!s){w('Invalid command','e');return}var c=s[1].toLowerCase(),a=s[2]||'';switch(c){case'help':w('','d');w('+========================================+','y');w('|       MININ-CHAT COMMAND REFERENCE     |','y');w('+========================================+','y');w('  /nick <name>     Change your nickname','s');w('  /join <room>     Join a chat room','s');w('  /w <user> <msg>  Send a whisper','s');w('  /users           List users in room','s');w('  /rooms           List active rooms','s');w('  /status          Server status info','s');w('  /clear           Clear the terminal','s');w('  /uptime          Show session uptime','s');w('  /help            Show this help','s');w('  /quit            Disconnect','s');w('+========================================+','y');w('  Just type text to send a message','d');w('','d');break;case'clear':O.innerHTML='';break;case'nick':if(!a){w('Usage: /nick <name>','e');break}var on=nk;cmd('nick '+a,function(r){if(r.ok){nk=a;w('*** Nickname changed: '+on+' -> '+nk+' ***','y');P.textContent=nk+'@#'+rm+'> '}});break;case'join':if(!a){w('Usage: /join <room>','e');break}cmd('join '+a,function(r){if(r.ok){rm=a;w('*** Joined room #'+rm+' ***','y');P.textContent=nk+'@#'+rm+'> '}});break;case'w':case'whisper':case'msg':if(c==='msg'){send(a);break}var wp=a.match(/^(\S+)\s+(.+)/);if(!wp){w('Usage: /w <user> <message>','e');break}send('/w '+wp[1]+' '+wp[2]);w('[whisper -> '+wp[1]+'] '+wp[2],'w');break;case'users':cmd('users');break;case'rooms':cmd('rooms');break;case'status':cmd('status');break;case'uptime':var up=Math.floor((Date.now()-st)/1000);var h=Math.floor(up/3600),m=Math.floor(up%3600/60),s=up%60;w('Session uptime: '+h+'h '+m+'m '+s+'s','s');break;case'quit':if(iv)clearInterval(iv);tk='';w('*** Disconnected from server ***','e');w('*** Reload page to reconnect ***','j');break;default:w('Unknown command: /'+c+' -- type /help','e')}});I.addEventListener('focus',function(){O.scrollTop=O.scrollHeight});w('+========================================================================+','d');w('|  MININ-CHAT TERMINAL v1.0                                             |','d');w('|  Backend: COBOL (formatter) + Fortran (encryption) + C (server)       |','d');w('|  Frontend: Retro Unix Terminal Interface                               |','d');w('+========================================================================+','d');w('','d');login()}()</script></body></html>
